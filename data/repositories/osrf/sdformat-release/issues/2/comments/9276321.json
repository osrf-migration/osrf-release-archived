{"links": {"self": {"href": "data/repositories/osrf/sdformat-release/issues/2/comments/9276321.json"}, "html": {"href": "#!/osrf/sdformat-release/issues/2#comment-9276321"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/sdformat-release/issues/2.json"}}, "type": "issue", "id": 2, "repository": {"links": {"self": {"href": "data/repositories/osrf/sdformat-release.json"}, "html": {"href": "#!/osrf/sdformat-release"}, "avatar": {"href": "data/bytebucket.org/ravatar/{90557c78-8c95-44cd-b2a5-1517535ddb0d}ts=default"}}, "type": "repository", "name": "sdformat-release", "full_name": "osrf/sdformat-release", "uuid": "{90557c78-8c95-44cd-b2a5-1517535ddb0d}"}, "title": "Split out arch-independent files from libsdformat"}, "content": {"raw": "`debian/changelog` controls the version of *all* the generated packages so no you won't be able to have two versioning scheme in the same package.\nI don't know sdformat a lot but my experience is that separating data from software is quite impractical (you will need the data to test the software and commits in the data repository make break master silently where as on the other side the CI will return you a failure directly, also reverting is much easier if everything is in the same place).\n\nMy suggestion would be bumping the protocol number and the package number sufficiently ahead to resynchronize. Then use small digits to handle library update.\nAs long as your ABI scheme is consistent it is not an issue.\n\nThe Debian guidelines also indicate that arch independent files should be packages separately if appropriate (if the data is large enough for instance, this is a very subjective criteria).\n\nMy last advice would be to adopt some kind of \"\"smart\"\" directory structure to avoid overriding the same location.\nFor instance, for files which are protocol dependent could be placed in `/usr/share/sdformat/<PROTOCOL NUMBER>` and the other kept at the root.\n\nYou can then continue to provide older dataset (it is alway good to check retrocompatibility!) and it is *allowed* to have two packages A et B installing the same file as long as they are exactly identical (same hash-sum, same permissions). I do not recommend you to rely on this behavior if it can be avoided but it may come handy in your case.", "markup": "markdown", "html": "<p><code>debian/changelog</code> controls the version of <em>all</em> the generated packages so no you won't be able to have two versioning scheme in the same package.\nI don't know sdformat a lot but my experience is that separating data from software is quite impractical (you will need the data to test the software and commits in the data repository make break master silently where as on the other side the CI will return you a failure directly, also reverting is much easier if everything is in the same place).</p>\n<p>My suggestion would be bumping the protocol number and the package number sufficiently ahead to resynchronize. Then use small digits to handle library update.\nAs long as your ABI scheme is consistent it is not an issue.</p>\n<p>The Debian guidelines also indicate that arch independent files should be packages separately if appropriate (if the data is large enough for instance, this is a very subjective criteria).</p>\n<p>My last advice would be to adopt some kind of \"\"smart\"\" directory structure to avoid overriding the same location.\nFor instance, for files which are protocol dependent could be placed in <code>/usr/share/sdformat/&lt;PROTOCOL NUMBER&gt;</code> and the other kept at the root.</p>\n<p>You can then continue to provide older dataset (it is alway good to check retrocompatibility!) and it is <em>allowed</em> to have two packages A et B installing the same file as long as they are exactly identical (same hash-sum, same permissions). I do not recommend you to rely on this behavior if it can be avoided but it may come handy in your case.</p>", "type": "rendered"}, "created_on": "2014-03-24T01:19:41.822281+00:00", "user": {"display_name": "Thomas Moulard", "uuid": "{e1f47898-cedc-4c14-a637-d0c43400e843}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be1f47898-cedc-4c14-a637-d0c43400e843%7D"}, "html": {"href": "https://bitbucket.org/%7Be1f47898-cedc-4c14-a637-d0c43400e843%7D/"}, "avatar": {"href": "https://bitbucket.org/account/thomas_moulard/avatar/"}}, "nickname": "thomas_moulard", "type": "user", "account_id": null}, "updated_on": null, "type": "issue_comment", "id": 9276321}